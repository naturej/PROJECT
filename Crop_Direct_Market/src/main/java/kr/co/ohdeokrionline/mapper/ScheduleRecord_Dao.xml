<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace=
	"kr.co.ohdeokrionline.model.dao.ScheduleRecord_Dao">
	<select id="mySchedule" resultType="kr.co.ohdeokrionline.model.vo.ScheduleRecord_DTO">
		select user_id,pl_startdate,pl_enddate,pl_sub,pl_content,pro_name from plan where user_id=#{user_id}
	</select>
	<insert id="scheduleAdd" parameterType="kr.co.ohdeokrionline.model.vo.ScheduleRecord_DTO">
		insert into
		plan(user_id,pl_startdate,pl_enddate,pl_sub,pl_content,pro_name)
		values(#{user_id},to_date(#{pl_startdate},'yyyy-MM-dd'),to_date(#{pl_enddate},'yyyy-MM-dd'),#{pl_sub},#{pl_content},#{pro_name})
	</insert>
	<update id="scheduleEdit" parameterType="kr.co.ohdeokrionline.model.vo.ScheduleRecord_DTO">
		update plan
		set pl_startdate=to_date(#{pl_startdate},'yyyy-MM-dd'),
			pl_enddate=to_date(#{pl_enddate},'yyyy-MM-dd'),
			pl_sub=#{pl_sub}, pl_content=#{pl_content}, pro_name=#{pro_name}
		where user_id=#{user_id}
	</update>
	<delete id="scheduleRemove" parameterType="kr.co.ohdeokrionline.model.vo.ScheduleRecord_DTO">
		delete plan
		where user_id=#{user_id} and pl_startdate=to_date(#{pl_startdate},'yyyy-MM-dd') and
			pl_enddate=to_date(#{pl_enddate},'yyyy-MM-dd') and
			pl_sub=#{pl_sub} and pl_content=#{pl_content} and pro_name=#{pro_name}
	</delete>
</mapper>